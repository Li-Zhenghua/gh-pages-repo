Title: CMakeLists_txt的写法

Date: 2018-11-4 Sun 23:49

Category: CMake

---

[参考资料](https://www.ibm.com/developerworks/cn/linux/l-cn-cmake/)

直接分析实例:
``` bash
 $ tree 
 
.
├── main.c
└── src
    ├── ...
    ├── ...
    └── ...
```

`CMakeLists.txt`中的命令不区分大小写.


``` makefile
# ./CMakeLists.txt
project(main) # 确定项目名称
cmake_minimum_required(VERSION 3.10) # CMake的最低版本
add_subdirectory(src) # 声明子目录
aux_source_directory(. DIR_SRCS) # 将当前目录(.)下的源文件名称赋给变量DIR_SRCS
add_executable(main ${DIR_SRCS}) # 将DIR_SRCS中的源文件编译为名为main的可执行文件
target_link_libraries(main Test) # 指明main需要链接到名为Test的链接库
```


``` makefile
# ./src/CMakeLists.txt
aux_source_directory(. DIR_TEST1_SRCS)
add_library( Test ${DIR_TEST1_SRCS}) #将./src/目录下的源文件编译为名为TEST的共享库
```

然后执行cmake

``` bash
cmake .
make
```

THE END

---